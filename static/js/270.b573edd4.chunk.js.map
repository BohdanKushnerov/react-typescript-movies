{"version":3,"file":"static/js/270.b573edd4.chunk.js","mappings":"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","sources":["components/ReviewList/ReviewList.styled.js","components/ReviewList/ReviewList.jsx","pages/Reviews.jsx","services/Constants.js","services/FetchFunctions.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const CommentList = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n`;\n\nexport const ReviewItem = styled.li`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 8px;\n  background-color: #e5e8e9;\n  border-radius: 5px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 1px rgba(0, 0, 0, 0.14),\n    0 2px 1px rgba(0, 0, 0, 0.2);\n`;\n\nexport const ReviewLink = styled.a`\n  display: block;\n  width: 50px;\n  font-weight: 500;\n  color: gray;\n  border-radius: 5px;\n  outline: 1px solid gray;\n  text-align: center;\n\n  :hover {\n    color: orangered;\n    outline: 1px solid orangered;\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { CommentList, ReviewItem, ReviewLink } from './ReviewList.styled';\n\nconst ReviewList = ({ state }) => {\n  return (\n    <CommentList>\n      {state.map(({ author, content, id, url }) => {\n        return (\n          <ReviewItem key={id}>\n            <h2>Author: {author}</h2>\n            <p>{content}</p>\n            <ReviewLink href={url} target=\"_blank\">\n              Link\n            </ReviewLink>\n          </ReviewItem>\n        );\n      })}\n    </CommentList>\n  );\n};\n\nReviewList.propTypes = {\n  state: PropTypes.arrayOf(\n    PropTypes.shape({\n      author: PropTypes.string.isRequired,\n      content: PropTypes.string.isRequired,\n      id: PropTypes.string.isRequired,\n      url: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n};\n\nexport default ReviewList;\n","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchReviews } from 'services/FetchFunctions';\nimport ReviewList from 'components/ReviewList/ReviewList';\nimport Status from 'services/Constants';\n\nconst Reviews = () => {\n  const [state, setState] = useState([]);\n  const [status, setStatus] = useState(Status.IDLE);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const abortController = new AbortController();\n\n    // IIFE\n    (async function fetch() {\n      setStatus(Status.PENDING);\n      try {\n        const moviesReviews = await fetchReviews(movieId, abortController);\n\n        setState([...moviesReviews]);\n        setStatus(Status.RESOLVED);\n      } catch (error) {\n        console.log(error);\n        setStatus(Status.REJECTED);\n      }\n    })();\n\n    return () => {\n      abortController.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <section>\n      {status === Status.RESOLVED && <ReviewList state={state}></ReviewList>}\n      {!state.length && status === Status.RESOLVED && (\n        <h2>We don't have any reviews for this film</h2>\n      )}\n      {status === Status.REJECTED && (\n        <h2>\n          An error occurred, we could not upload the data, please try reloading\n          the page and try again :)\n        </h2>\n      )}\n    </section>\n  );\n};\n\nexport default Reviews;\n","const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default Status;\n","import axios from 'axios';\n\nasync function fetchTrending(abortController) {\n  const response = await axios.get(\n    'https://api.themoviedb.org/3/trending/movie/day?api_key=a89ed47e53c22ac07455246c7a19999d',\n    { signal: abortController.signal }\n  );\n\n  return response.data.results.map(\n    ({ id, original_title, vote_average, poster_path, title }) => {\n      return {\n        id,\n        original_title,\n        vote_average,\n        poster_path: poster_path\n          ? `https://image.tmdb.org/t/p/w220_and_h330_face${poster_path}`\n          : 'https://via.placeholder.com/220x330',\n        title,\n      };\n    }\n  );\n}\n\nasync function fetchSearchMovie(filmName, abortController) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=a89ed47e53c22ac07455246c7a19999d&query=${filmName}`,\n    { signal: abortController.signal }\n  );\n\n  return response.data.results.map(\n    ({ id, original_title, vote_average, poster_path, title }) => {\n      return {\n        id,\n        original_title,\n        vote_average,\n        poster_path: poster_path\n          ? `https://image.tmdb.org/t/p/w220_and_h330_face${poster_path}`\n          : 'https://via.placeholder.com/220x330',\n        title,\n      };\n    }\n  );\n}\n\nasync function fetchMovieCredits(movieId, abortController) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=a89ed47e53c22ac07455246c7a19999d&language=en-US`,\n    { signal: abortController.signal }\n  );\n\n  return response.data.cast.map(({ profile_path, name, id }) => {\n    return {\n      profile_path: profile_path\n        ? `https://image.tmdb.org/t/p/w138_and_h175_face${profile_path}`\n        : 'https://via.placeholder.com/138x175',\n      name,\n      id,\n    };\n  });\n}\n\nasync function fetchReviews(movieId, abortController) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=a89ed47e53c22ac07455246c7a19999d&language=en-US&page=1`,\n    { signal: abortController.signal }\n  );\n\n  return response.data.results.map(({ author, content, id, url }) => {\n    return {\n      author,\n      content,\n      id,\n      url,\n    };\n  });\n}\n\nasync function fetchMovie(movieId, abortController) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=a89ed47e53c22ac07455246c7a19999d&language=en-US`,\n    { signal: abortController.signal }\n  );\n\n  const { vote_average, overview, title, genres, poster_path } = response.data;\n\n  return {\n    vote_average,\n    overview,\n    title,\n    genres: stringFromGanresArray(genres),\n    poster_path: poster_path\n      ? `https://image.tmdb.org/t/p/w300_and_h450_bestv2${poster_path}`\n      : 'https://via.placeholder.com/300x450',\n  };\n\n  function stringFromGanresArray(array) {\n    const string = array.reduce((acc, value) => {\n      return (acc += value.name);\n    }, '');\n\n    return string.split(/(?=[A-Z])/).join(', ');\n  }\n}\n\nexport {\n  fetchTrending,\n  fetchMovie,\n  fetchSearchMovie,\n  fetchMovieCredits,\n  fetchReviews,\n};\n"],"names":["CommentList","styled","ul","_templateObject","_taggedTemplateLiteral","ReviewItem","li","_templateObject2","ReviewLink","a","_templateObject3","_ref","state","_jsx","children","map","_ref2","author","content","id","url","_jsxs","href","target","_useState","useState","_useState2","_slicedToArray","setState","_useState3","Status","IDLE","_useState4","status","setStatus","movieId","useParams","useEffect","abortController","AbortController","_fetch","_asyncToGenerator","_regeneratorRuntime","mark","_callee","moviesReviews","wrap","_context","prev","next","PENDING","fetchReviews","sent","_toConsumableArray","RESOLVED","t0","console","log","REJECTED","stop","apply","arguments","abort","ReviewList","length","fetchTrending","_x","_fetchTrending","response","axios","get","signal","abrupt","data","results","original_title","vote_average","poster_path","title","concat","fetchSearchMovie","_x2","_x3","_fetchSearchMovie","_callee2","filmName","_context2","fetchMovieCredits","_x4","_x5","_fetchMovieCredits","_callee3","_context3","cast","_ref3","profile_path","name","_x6","_x7","_fetchReviews","_callee4","_context4","_ref4","fetchMovie","_x8","_x9","_fetchMovie","_callee5","_response$data","overview","genres","stringFromGanresArray","_context5","array","reduce","acc","value","split","join"],"sourceRoot":""}
{"version":3,"file":"static/js/990.5122e030.chunk.js","mappings":"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","sources":["constants/constants.js","services/fetchReviews.ts","components/ReviewList/ReviewList.styled.js","components/ReviewList/ReviewList.tsx","pages/MovieDetails/Reviews/Reviews.tsx"],"sourcesContent":["const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default Status;\n","import axios from 'axios';\n\ntype Reviews = {\n  author: string;\n  content: string;\n  id: string;\n  url: string;\n};\n\nasync function fetchReviews(\n  movieId: string | undefined,\n  abortController: AbortController\n) {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=a89ed47e53c22ac07455246c7a19999d&language=en-US&page=1`,\n    { signal: abortController.signal }\n  );\n\n  return response.data.results.map(({ author, content, id, url }: Reviews) => {\n    return {\n      author,\n      content,\n      id,\n      url,\n    };\n  });\n}\n\nexport default fetchReviews;\n","import styled from '@emotion/styled';\n\nexport const CommentList = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n`;\n\nexport const ReviewItem = styled.li`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  padding: 8px;\n  background-color: #e5e8e9;\n  border-radius: 5px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 1px rgba(0, 0, 0, 0.14),\n    0 2px 1px rgba(0, 0, 0, 0.2);\n`;\n\nexport const ReviewLink = styled.a`\n  display: block;\n  width: 50px;\n  font-weight: 500;\n  color: gray;\n  border-radius: 5px;\n  outline: 1px solid gray;\n  text-align: center;\n\n  :hover {\n    color: orangered;\n    outline: 1px solid orangered;\n  }\n`;\n","import { CommentList, ReviewItem, ReviewLink } from './ReviewList.styled';\n\ntype ReviewProps = {\n  state: ReviewObj[];\n};\n\ntype ReviewObj = {\n  author: string;\n  content: string;\n  id: string;\n  url: string;\n};\n\nconst ReviewList: React.FC<ReviewProps> = ({ state }) => {\n  return (\n    <CommentList>\n      {state.map(({ author, content, id, url }) => {\n        return (\n          <ReviewItem key={id}>\n            <h2>Author: {author}</h2>\n            <p>{content}</p>\n            <ReviewLink href={url} target=\"_blank\">\n              Link\n            </ReviewLink>\n          </ReviewItem>\n        );\n      })}\n    </CommentList>\n  );\n};\n\nexport default ReviewList;\n","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport fetchReviews from 'services/fetchReviews';\nimport ReviewList from 'components/ReviewList/ReviewList';\nimport Status from 'constants/constants';\n\ntype ReviewsState = {\n  author: string;\n  content: string;\n  id: string;\n  url: string;\n};\n\nconst Reviews: React.FC = () => {\n  const [state, setState] = useState<ReviewsState[]>([]);\n  const [status, setStatus] = useState(Status.IDLE);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const abortController = new AbortController();\n\n    (async function fetchReview() {\n      setStatus(Status.PENDING);\n      try {\n        const moviesReviews = await fetchReviews(movieId, abortController);\n\n        setState([...moviesReviews]);\n        setStatus(Status.RESOLVED);\n      } catch (error) {\n        console.log(error);\n        setStatus(Status.REJECTED);\n      }\n    })();\n\n    return () => {\n      abortController.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <section>\n      {status === Status.RESOLVED && <ReviewList state={state}></ReviewList>}\n      {!state.length && status === Status.RESOLVED && (\n        <h2>We don't have any reviews for this film</h2>\n      )}\n      {status === Status.REJECTED && (\n        <h2>\n          An error occurred, we could not upload the data, please try reloading\n          the page and try again :)\n        </h2>\n      )}\n    </section>\n  );\n};\n\nexport default Reviews;\n"],"names":["IDLE","PENDING","RESOLVED","REJECTED","_fetchReviews","_asyncToGenerator","_regeneratorRuntime","mark","_callee","movieId","abortController","response","wrap","_context","prev","next","axios","get","concat","signal","sent","abrupt","data","results","map","_ref","author","content","id","url","stop","apply","arguments","_x","_x2","CommentList","styled","ul","_templateObject","_taggedTemplateLiteral","ReviewItem","li","_templateObject2","ReviewLink","a","_templateObject3","state","_jsx","children","_ref2","_jsxs","href","target","_useState","useState","_useState2","_slicedToArray","setState","_useState3","Status","_useState4","status","setStatus","useParams","useEffect","AbortController","_fetchReview","moviesReviews","fetchReviews","_toConsumableArray","t0","console","log","abort","ReviewList","length"],"sourceRoot":""}